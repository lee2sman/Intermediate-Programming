<!DOCTYPE html>



 <html class="no-js"> 
<head>
    <title>Create your own API with Express  &middot; Intermediate Programming @Woodbury </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-language" content="en-us" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Woodbury University">
    <meta name="description" content="Applied Computer Science">
    <meta name="generator" content="Hugo 0.37.1" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="http://lee2sman.github.io/intermediate-programming/css/smooth-scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="http://lee2sman.github.io/intermediate-programming/css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/tomorrow.min.css" />
    

    <style>
        .posts li {
            visibility: hidden;
        }
    </style> 
</head>
<body>
    
    

    <header>	
	<div class="h-wrap">
		
		<h1 class="title"><a href="http://lee2sman.github.io/intermediate-programming/">Intermediate Programming @Woodbury</a></h1>
		
	</div>
</header>
    
    <div class="site-wrapper" id="full-wrapper">
        
        <section class="single-wrap">
            <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
                <div class="feat">
                    <h5 class="page-date">
                    <time datetime="" itemprop="datePublished">
                    19 March 2018
                   
                    </time>
                    </h5>
                </div>
                <h1 class="page-title" itemprop="name headline">Create your own API with Express</h1>
                <div itemprop="articleBody">
                    

<p><img src="http://lee2sman.github.io/intermediate-programming/images/api.jpg" alt="API image" /></p>

<h2 id="pre-requisites">Pre-requisites</h2>

<ul>
<li>NodeJS</li>
<li>NPM</li>
</ul>

<h2 id="express">Express</h2>

<h3 id="writing-your-own-webserver">Writing your own webserver</h3>

<p>Express is one of the most popular frameworks for Node. It acts as a web server, querying input, directing routing for mobile and web applications. You can use it to create your own API, aka your own interface between programs.</p>

<ol>
<li>Start by creating a directory for your project <code>mkdir project-title</code> and enter that folder <code>cd project-title</code></li>
<li>Use <code>npm init</code> which will trigger a guide, asking you some questions, and generating a basic package.json file that will list all of your needed nodejs packages to be installed from npm and any other basic info relating to your project.</li>
<li>After this is completed, we need to tell npm to install the Express package. <code>npm install express --save</code>.</li>
<li>Now we can create and open up our javascript file. Here I&rsquo;ll name it <strong>main.js</strong>.</li>
<li>Inside our main.js file we&rsquo;ll need to <em>require</em> Express so we can use it. <code>const express = require('express');</code>.</li>
<li>Now that we&rsquo;ve pulled in the Express framework, we can use it. We&rsquo;ll create an express <em>app</em> with <code>const app = express();</code></li>
<li>At this point, we have only added two lines to our file. We&rsquo;ve created an app instance of Express and can now add functionality to that instance. Let&rsquo;s listen to connections on a specified port. <code>const server = app.listen(3000);</code></li>
<li>We can easily serve static files. If we have created a website (along with javascript file) we can place it in a sub-directory, eg <code>sub/index.html</code> and then visit this projec in our browser at <code>localhost:3000/sub</code>.</li>
</ol>

<h3 id="server-reloading">Server reloading</h3>

<ul>
<li>While you are developing you may make lots of changes to your code and it may be annoying to have to stop and restart your server constantly</li>
<li>There are various npm packages to deal with this. One simple one is <em>nodemon</em> which will run a server and watch for changes to your code. If your code changes because you saved updated code in your text editor, nodemon will watch and re-serve the updated page.</li>
<li><code>npm install nodemon -g</code> to install this globally to use in all of your projects</li>
<li>you can use this to replace the <em>node</em> command when running your programs, such as <code>nodemon main.js</code></li>
</ul>

<h3 id="routing">Routing</h3>

<ul>
<li>Simplified explanation: A REST API stands for a REpresentational State Transfer. This allows you to create an API that accepts GET requests to serve information.</li>
<li>Using Express, we can serve a <em>route</em>. By typing in a url such as <em>website.com/search/sriracha</em>, this route <em>search/sriracha</em> gets interpreted by our server through its API to search for our object and then send back particular data.</li>
<li>When a user makes a request, we send back a response</li>
</ul>

<p>Routing is particularly useful for executing specific code based on the user&rsquo;s specific route.</p>

<pre><code>app.get('/this_route', specialFunction);
</code></pre>

<p>By adding this to our code, we trigger a function as a callback to run when a user hits our domain at <em>this_route</em>.</p>

<p>Our created function looks like:</p>

<pre><code>function specialFunction(request, response) {
  response.send(&quot;Running our special function.&quot;);
}
</code></pre>

<p>We pass the parameters <em>request</em> and <em>response</em>, which references <strong>http</strong>&rsquo;s <em>request-response protocol</em>. You can also pass html, either inside the send request, or more conveniently, as a passed variable containing your html.</p>

<pre><code>function specialFunction(request, response) {
  let message = '&lt;h1&gt;Headline&lt;/h1&gt;&lt;p&gt;Some information on this topic.&lt;/p&gt;';
  response.send(message);
}
</code></pre>

<h2 id="resources">Resources</h2>

<ul>
<li>HTTP Server With Express <a href="https://www.youtube.com/watch?v=6oiabY1xpBo&amp;list=PLRqwX-V7Uu6Yyn-fBtGHfN0_xCtBwUkBp&amp;index=2">tutorial</a> by Dan Shiffman</li>
<li>Creating Routes <a href="https://www.youtube.com/watch?v=e4qKBkwwkNg&amp;index=3&amp;list=PLRqwX-V7Uu6Yyn-fBtGHfN0_xCtBwUkBp">tutorial</a></li>
<li><a href="https://expressjs.com/en/guide/routing.html">Routing</a></li>
</ul>
                    
                </div>
                <div class="feat share">
                </div>
                
                
                
            </article>
        </section>

        <footer>
	
	<small>CC4.0 BY</small>
	
</footer>
    </div>

    <div class="next-prev-arrows">
        
        
            <a rel="prev" href="http://lee2sman.github.io/intermediate-programming/posts/coding-alexa-skill/" id="prev">
                 <span class="nav-title nav-title-prev">Coding an Alexa Skill</span> &rarr;
            </a>
        
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="http://lee2sman.github.io/intermediate-programming/js/scrollreveal.min.js"></script>
<script type='application/javascript' src='http://lee2sman.github.io/intermediate-programming/js/smooth-scrollbar.js'></script>
<script src="http://lee2sman.github.io/intermediate-programming/js/baffle.min.js"></script>
<script src="http://lee2sman.github.io/intermediate-programming/js/main.js"></script>





<!-- Syntax highlighting -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
